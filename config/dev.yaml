# Cryptofeed 开发环境配置
# 用于本地 PyCharm 开发和调试

# ========================================
# 环境标识
# ========================================
environment: development

# ========================================
# API 服务配置（开发环境端口）
# ========================================
api:
  host: "0.0.0.0"
  port: 8889  # 开发环境使用 8889，避免与生产环境冲突
  debug: true
  reload: true  # 代码修改自动重载

# ========================================
# ClickHouse 数据库配置（开发数据库）
# ========================================
clickhouse:
  host: localhost
  port: 8123
  user: default
  password: password123
  database: cryptofeed_dev  # 开发环境使用独立数据库
  secure: false

# ========================================
# 交易对配置（开发环境只监控少量交易对）
# ========================================
symbols:
  mode: "custom"
  custom_list:
    - "BTC-USDT-PERP"  # 开发环境只监控 BTC，减少资源消耗
    - "ETH-USDT-PERP"

# ========================================
# 数据收集类型（开发环境简化配置）
# ========================================
collection:
  data_types:
    - trades
    - candles_1m
    - candles_5m
    # 开发环境不收集所有数据类型，节省资源

# ========================================
# 数据保留策略（开发环境短期保留）
# ========================================
data_retention:
  candles:
    "1m": 7      # 开发环境只保留 7 天
    "5m": 14
    "15m": 30
    "30m": 30
    "4h": 60
    "1d": 90

  trades: 7           # 交易数据：7 天
  funding: 30         # 资金费率：30 天
  liquidations: 30
  open_interest: 30

# ========================================
# 历史数据回填配置（开发环境禁用或简化）
# ========================================
data_backfill:
  enabled: false  # 开发环境禁用自动回填，避免干扰
  smart_mode: false
  startup_backfill: false

# ========================================
# 监控配置（开发环境端口）
# ========================================
monitoring:
  metrics_enabled: true
  health_check_port: 8081  # 开发环境使用 8081，避免冲突
  stats_interval: 300

# ========================================
# 日志配置（开发环境详细日志）
# ========================================
logging:
  level: DEBUG  # 开发环境使用 DEBUG 级别
  filename: logs/cryptofeed_dev.log  # 独立的日志文件
  console: true  # 开发环境输出到控制台
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# ========================================
# 开发环境特殊配置
# ========================================
dev_settings:
  # 开发环境可以启用一些调试功能
  enable_profiling: true  # 性能分析
  enable_debug_endpoints: true  # 调试端点
  slow_query_threshold: 1.0  # 慢查询阈值（秒）
